/*
 * Modular Scale: 1.625 (major sixth)
 * Base: 1em (16px)
 * Scale: 0.379em, 0.616em, 1em, 1.625em, 2.641em, 4.291em, 6.973em
 *
 * Vertical Rhythm
 * Base: 1.5em line-height (1 unit)
 * All vertical spacing uses multiples: 0.75em (0.5u), 1.5em (1u), 3em (2u), 4.5em (3u)
 */

html {
    font-size: 100%;
    -webkit-text-size-adjust: 100%;
    -ms-text-size-adjust: 100%;
}

body {
    font-family: "adobe-garamond-pro", "Palatino Linotype", Palatino, "Book Antiqua", Georgia, serif;
    font-weight: 400;
    font-style: normal;
    font-size: 1em;
    line-height: 1.5;
    color: #333;
    background-color: #f5f4f0;
    margin: 0;
    padding: 3em; /* 2 units */
}

::selection {
    background: rgba(0, 0, 0, 0.08);
    color: inherit;
    text-shadow: none;
}

/* Navigation */
.nav {
    text-align: center;
    padding: 0 0 1.5em; /* 1 unit bottom */
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
    gap: 0 1.5em; /* 1 unit horizontal */
    line-height: 1.5;
}

.nav a {
    font-family:
        system-ui,
        -apple-system,
        sans-serif;
    font-size: 1em;
    line-height: 1.5;
    color: #333;
    white-space: nowrap;
    display: flex;
    align-items: center;
    gap: 0.375em;
    border-bottom: none;
}

.icon {
    width: 1em;
    height: 1em;
    flex-shrink: 0;
}

.nav a:hover {
    color: #900;
}

.container {
    max-width: 78em;
    margin: 0 auto;
    padding: 3em; /* 2 units */
    overflow: visible;
}

.profile-photo {
    display: block;
    width: 10em;
    height: 10em;
    border-radius: 50%;
    border: 4px solid #fff;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    object-fit: cover;
    margin: 0 auto;
}

/* Wrapper to contain profile photo on rhythm */
.profile-photo-wrapper {
    height: 12em; /* 8 units - contains 10em photo on rhythm */
    display: flex;
    align-items: center;
    justify-content: center;
}

.name-wrapper {
    height: 12em; /* 8 units - contains display font on rhythm */
    display: flex;
    align-items: center;
    justify-content: center;
}

.name {
    font-family: "spring-lp", "Brush Script MT", "Snell Roundhand", cursive;
    font-size: 6.973em;
    font-weight: 400;
    font-style: italic;
    text-align: center;
    line-height: 1;
    margin: 0;
    color: #333;
    text-shadow:
        -3px -3px 0 #fff,
        3px -3px 0 #fff,
        -3px 3px 0 #fff,
        3px 3px 0 #fff,
        -3px 0 0 #fff,
        3px 0 0 #fff,
        0 -3px 0 #fff,
        0 3px 0 #fff;
}

.lede-wrapper {
    padding-top: 1.5em; /* 1 unit above */
    padding-bottom: 6em; /* 4 units below */
    display: flex;
    align-items: center;
    justify-content: center;
}

.lede {
    font-family: "adobe-garamond-pro", "Palatino Linotype", Palatino, "Book Antiqua", Georgia, serif;
    font-size: 2.641em;
    font-weight: 400;
    line-height: 1.136; /* 3em / 2.641em = ~1.136 to hit 3em (2 units) per line */
    text-align: center;
    max-width: 20em;
    margin: 0 auto;
    color: #333;
}

.content {
    max-width: 60em;
    margin: 0 auto;
    column-count: 2;
    column-gap: 3em; /* 2 units */
    font-size: 1.275em;
    line-height: 1.568628; /* 2em / 1.275em to get 2em per line (3 lines = 4 units) */
}

.content p {
    margin: 0 0 1.176471em; /* 1.5em / 1.275 to get 1.5em (1 unit) in base units */
}

.content p:last-child {
    margin-bottom: 1.568628em; /* 2em in base units - completes rhythm cycle */
}

p {
    -webkit-hyphens: none;
    -moz-hyphens: none;
    hyphens: none;
    margin: 0 0 1.5em; /* 1 unit */
    widows: 3;
    orphans: 3;
    text-wrap: pretty;
}

a {
    color: #333;
    text-decoration: none;
    border-bottom: 1px solid #333;
    transition:
        color 0.2s ease,
        border-color 0.2s ease;
}

a:hover {
    color: #900;
    border-bottom-color: #900;
}

.divider {
    max-width: 52em;
    margin: 0 auto;
    margin-top: calc(1.5em - 1px); /* 1 unit minus border */
    margin-bottom: 1.5em; /* 1 unit */
    border: none;
    border-top: 1px solid #ddd;
    height: 0;
    padding: 0;
}

/* Video Carousel */
.video-carousel {
    max-width: 100vw;
    margin: 0;
    margin-left: calc(-50vw + 50%);
    margin-right: calc(-50vw + 50%);
    padding: 1.5em 3em; /* 1 unit vertical */
    position: relative;
    box-sizing: border-box;
    height: 24em; /* 16 units - contains videos on rhythm */
    overflow: hidden;
}

.carousel-container {
    overflow-x: auto;
    overflow-y: hidden;
    scrollbar-width: none;
    -ms-overflow-style: none;
    height: 21em; /* 14 units - video area */
}

.carousel-container::-webkit-scrollbar {
    display: none;
}

.carousel-track {
    display: flex;
    gap: 3em; /* 2 units */
    height: 100%;
}

.carousel-slide {
    flex: 0 0 calc((100% - 6em) / 3); /* account for 2 gaps of 3em */
    height: 100%;
}

.carousel-slide iframe {
    width: 100%;
    height: 100%;
    border-radius: 8px;
    border: 3px solid #fff;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    filter: grayscale(20%) brightness(90%);
    transition: filter 0.3s ease;
}

.carousel-slide iframe:hover {
    filter: grayscale(0%) brightness(100%);
}

.carousel-btn {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    background: rgba(0, 0, 0, 0.3);
    color: #fff;
    border: none;
    width: 3em; /* 2 units */
    height: 4.5em; /* 3 units */
    border-radius: 4px;
    font-size: 1em;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background 0.2s ease;
    z-index: 10;
}

.carousel-btn.prev {
    left: 1em;
}

.carousel-btn.next {
    right: 1em;
}

.carousel-btn:hover {
    background: rgba(0, 0, 0, 0.5);
}

@media (max-width: 1200px) {
    .carousel-slide {
        flex: 0 0 calc((100% - 3em) / 2); /* account for 1 gap of 3em */
    }
}

@media (max-width: 768px) {
    .video-carousel {
        margin: 0;
        margin-left: -0.75em;
        margin-right: -0.75em;
        padding: 1.5em 0; /* 1 unit vertical */
        width: calc(100% + 1.5em);
        height: 15em; /* 10 units */
    }

    .carousel-container {
        height: 12em; /* 8 units */
    }

    .carousel-slide {
        flex: 0 0 100%;
    }

    .carousel-track {
        gap: 0.75em; /* 0.5 units */
        padding: 0;
    }

    .carousel-btn {
        display: none;
    }
}

/* Articles Listing */
.articles-listing {
    max-width: 52em;
    margin: 0 auto;
    padding: 0;
    text-align: center;
}

.articles-listing h2 {
    margin: 0 0 1.5em; /* 2.25em in base = 1.5 units, total h2 block = 4.5em (3 units) */
    line-height: 1.5;
}

.article-list {
    list-style: none;
    padding: 0;
    padding-bottom: 1.5em; /* 1 unit */
    margin: 0;
    line-height: 1.5;
}

.article-list li {
    margin: 0;
    line-height: 1.5;
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 0 0.75em; /* 0.5 units horizontal */
}

.article-list a {
    font-size: 1em;
    line-height: 1.5;
    text-align: right;
}

.article-list .article-date {
    font-size: 1em;
    color: #888;
    line-height: 1.5;
    text-align: left;
}

.article-list-page {
    max-width: 40em;
    margin: 0 auto;
    text-align: left;
}

.article-list-page li {
    margin-bottom: 1.5em; /* 1 unit */
}

.article-list-page .article-date {
    display: block;
    margin-left: 0;
}

/* Page Header */
.page-header {
    max-width: 40em;
    margin: 0 auto 3em; /* 2 units */
}

.page-meta {
    font-size: 0.875em;
    color: #888;
    margin-bottom: 0.75em; /* 0.5 units */
    line-height: 1.5;
}

.page-meta a {
    color: #888;
}

.page-meta a:hover {
    color: #333;
}

.page-title {
    font-family: "spring-lp", Georgia, serif;
    font-size: 4.291em;
    font-weight: 400;
    font-style: italic;
    line-height: 1.1;
    margin: 0;
    color: #333;
}

/* Article */
.article {
    max-width: 40em;
    margin: 0 auto;
}

.article-header {
    margin-bottom: 3em; /* 2 units */
}

.article-meta {
    font-size: 0.875em;
    color: #888;
    margin-bottom: 0.75em; /* 0.5 units */
    line-height: 1.5;
}

.article-meta a {
    color: #888;
}

.article-meta a:hover {
    color: #333;
}

.article-title {
    font-family: "spring-lp", Georgia, serif;
    font-size: 4.291em;
    font-weight: 400;
    font-style: italic;
    line-height: 1.1;
    margin: 0;
    color: #333;
}

.article-content {
    font-size: 1.275em;
    line-height: 1.5;
}

.article-content h2 {
    margin-top: 1.625em;
    margin-bottom: 0.75em; /* 0.5 units */
}

.links {
    max-width: 52em;
    margin: 0 auto;
    padding: 0;
    padding-top: calc(1.5em - 1px); /* 1 unit minus border */
    border-top: 1px solid #ddd;
    text-align: center;
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
    gap: 0 1.5em; /* 1 unit horizontal */
    line-height: 1.5;
}

.links a {
    font-family:
        system-ui,
        -apple-system,
        sans-serif;
    font-size: 1em;
    line-height: 1.5;
    color: #333;
    white-space: nowrap;
    display: flex;
    align-items: center;
    gap: 0.375em;
    border-bottom: none;
}

.links a:hover {
    color: #900;
}

@media (max-width: 768px) {
    body {
        padding: 1.5em; /* 1 unit */
    }

    .container {
        padding: 3em 1.5em; /* 2 units / 1 unit */
    }

    .name {
        font-size: 4.291em;
        line-height: 1;
        text-shadow:
            -2px -2px 0 #fff,
            2px -2px 0 #fff,
            -2px 2px 0 #fff,
            2px 2px 0 #fff,
            -2px 0 0 #fff,
            2px 0 0 #fff,
            0 -2px 0 #fff,
            0 2px 0 #fff;
    }

    .lede {
        font-size: 1.625em;
        line-height: 1.25;
    }

    .content {
        column-count: 1;
    }
}

.opening-phrase {
    font-weight: 700;
    font-variant: small-caps;
}

.versal {
    font-family: "spring-lp", "Brush Script MT", "Snell Roundhand", cursive;
    font-size: 3em; /* 2 units */
    line-height: 1;
    font-weight: 400;
    font-style: italic;
    float: left;
    margin: 0 0.125em 0 0;
    color: #333;
}

h1,
h2,
h3 {
    font-family: Baskerville, "Palatino Linotype", Palatino, Georgia, Utopia, serif;
    font-weight: 400;
    font-style: italic;
    margin: 0;
}

h1 {
    font-size: 1.5em; /* 1 unit */
    line-height: 1.5; /* 2.25em = 1.5 units */
    margin: 0 0 0.5em; /* 0.75em / 1.5 = 0.5em = 0.5 units in context */
}

h2 {
    font-size: 1.5em; /* 1 unit */
    line-height: 1.5; /* 2.25em = 1.5 units */
    margin: 1em 0 0.5em; /* 1 unit / 0.5 units in context */
}

h3 {
    font-size: 1em;
    line-height: 1.5;
    margin: 1.5em 0 0.75em; /* 1 unit / 0.5 units */
}

/* Baseline Grid Debug Tool - Toggle with 'g' key */
.baseline-grid-visible {
    background-image: linear-gradient(
        to bottom,
        transparent 0,
        transparent calc(1.5em - 1px),
        rgba(0, 150, 100, 0.25) calc(1.5em - 1px),
        rgba(0, 150, 100, 0.25) 1.5em
    );
    background-size: 100% 1.5em;
    background-position: 0 0;
    background-attachment: local;
}
